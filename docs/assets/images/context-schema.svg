<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 900">
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0a0e1a"/>
      <stop offset="100%" style="stop-color:#1a1f35"/>
    </linearGradient>
    <filter id="glow">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="900" fill="url(#bgGrad)"/>
  
  <!-- Title -->
  <text x="600" y="60" font-family="Arial, sans-serif" font-size="36" fill="#e2e8f0" text-anchor="middle" font-weight="bold">4-LAYER ENTERPRISE CONTEXT SCHEMA</text>
  <text x="600" y="95" font-family="Arial, sans-serif" font-size="18" fill="#94a3b8" text-anchor="middle">EnterpriseContext - The Foundation of Context Engineering</text>
  
  <!-- Layer 1: Security -->
  <g transform="translate(100, 140)">
    <rect width="1000" height="150" rx="15" fill="rgba(239,68,68,0.15)" stroke="#ef4444" stroke-width="3" filter="url(#glow)"/>
    <text x="50" y="45" font-family="Arial, sans-serif" font-size="28" fill="#ef4444" font-weight="bold">1</text>
    <text x="90" y="45" font-family="Arial, sans-serif" font-size="24" fill="#ef4444" font-weight="bold">SECURITY CONTEXT</text>
    <text x="950" y="45" font-family="Arial, sans-serif" font-size="16" fill="#ef4444" text-anchor="end">WHO is asking</text>
    
    <g transform="translate(50, 70)">
      <rect width="170" height="60" rx="8" fill="rgba(239,68,68,0.2)" stroke="#ef4444" stroke-width="1"/>
      <text x="85" y="25" font-family="monospace" font-size="14" fill="#ef4444" text-anchor="middle">user_id</text>
      <text x="85" y="45" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">Unique identifier</text>
    </g>
    <g transform="translate(240, 70)">
      <rect width="170" height="60" rx="8" fill="rgba(239,68,68,0.2)" stroke="#ef4444" stroke-width="1"/>
      <text x="85" y="25" font-family="monospace" font-size="14" fill="#ef4444" text-anchor="middle">tenant_id</text>
      <text x="85" y="45" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">Multi-tenant isolation</text>
    </g>
    <g transform="translate(430, 70)">
      <rect width="170" height="60" rx="8" fill="rgba(239,68,68,0.2)" stroke="#ef4444" stroke-width="1"/>
      <text x="85" y="25" font-family="monospace" font-size="14" fill="#ef4444" text-anchor="middle">roles[]</text>
      <text x="85" y="45" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">RBAC roles</text>
    </g>
    <g transform="translate(620, 70)">
      <rect width="170" height="60" rx="8" fill="rgba(239,68,68,0.2)" stroke="#ef4444" stroke-width="1"/>
      <text x="85" y="25" font-family="monospace" font-size="14" fill="#ef4444" text-anchor="middle">scopes[]</text>
      <text x="85" y="45" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">Permission scopes</text>
    </g>
    <g transform="translate(810, 70)">
      <rect width="170" height="60" rx="8" fill="rgba(239,68,68,0.2)" stroke="#ef4444" stroke-width="1"/>
      <text x="85" y="25" font-family="monospace" font-size="14" fill="#ef4444" text-anchor="middle">session_id</text>
      <text x="85" y="45" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">Current session</text>
    </g>
  </g>
  
  <!-- Layer 2: Episodic -->
  <g transform="translate(100, 310)">
    <rect width="1000" height="150" rx="15" fill="rgba(245,158,11,0.15)" stroke="#f59e0b" stroke-width="3" filter="url(#glow)"/>
    <text x="50" y="45" font-family="Arial, sans-serif" font-size="28" fill="#f59e0b" font-weight="bold">2</text>
    <text x="90" y="45" font-family="Arial, sans-serif" font-size="24" fill="#f59e0b" font-weight="bold">EPISODIC STATE</text>
    <text x="950" y="45" font-family="Arial, sans-serif" font-size="16" fill="#f59e0b" text-anchor="end">WHAT happened recently</text>
    
    <g transform="translate(50, 70)">
      <rect width="220" height="60" rx="8" fill="rgba(245,158,11,0.2)" stroke="#f59e0b" stroke-width="1"/>
      <text x="110" y="25" font-family="monospace" font-size="14" fill="#f59e0b" text-anchor="middle">conversation_id</text>
      <text x="110" y="45" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">Current conversation</text>
    </g>
    <g transform="translate(290, 70)">
      <rect width="220" height="60" rx="8" fill="rgba(245,158,11,0.2)" stroke="#f59e0b" stroke-width="1"/>
      <text x="110" y="25" font-family="monospace" font-size="14" fill="#f59e0b" text-anchor="middle">recent_turns[]</text>
      <text x="110" y="45" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">Message history</text>
    </g>
    <g transform="translate(530, 70)">
      <rect width="220" height="60" rx="8" fill="rgba(245,158,11,0.2)" stroke="#f59e0b" stroke-width="1"/>
      <text x="110" y="25" font-family="monospace" font-size="14" fill="#f59e0b" text-anchor="middle">summary</text>
      <text x="110" y="45" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">Compressed history</text>
    </g>
    <g transform="translate(770, 70)">
      <rect width="220" height="60" rx="8" fill="rgba(245,158,11,0.2)" stroke="#f59e0b" stroke-width="1"/>
      <text x="110" y="25" font-family="monospace" font-size="14" fill="#f59e0b" text-anchor="middle">last_updated_at</text>
      <text x="110" y="45" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">Freshness tracking</text>
    </g>
  </g>
  
  <!-- Layer 3: Semantic -->
  <g transform="translate(100, 480)">
    <rect width="1000" height="150" rx="15" fill="rgba(16,185,129,0.15)" stroke="#10b981" stroke-width="3" filter="url(#glow)"/>
    <text x="50" y="45" font-family="Arial, sans-serif" font-size="28" fill="#10b981" font-weight="bold">3</text>
    <text x="90" y="45" font-family="Arial, sans-serif" font-size="24" fill="#10b981" font-weight="bold">SEMANTIC KNOWLEDGE</text>
    <text x="950" y="45" font-family="Arial, sans-serif" font-size="16" fill="#10b981" text-anchor="end">WHAT we know</text>
    
    <g transform="translate(50, 70)">
      <rect width="280" height="60" rx="8" fill="rgba(16,185,129,0.2)" stroke="#10b981" stroke-width="1"/>
      <text x="140" y="25" font-family="monospace" font-size="14" fill="#10b981" text-anchor="middle">retrieved_facts[]</text>
      <text x="140" y="45" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">Facts from memory</text>
    </g>
    <g transform="translate(350, 70)">
      <rect width="280" height="60" rx="8" fill="rgba(16,185,129,0.2)" stroke="#10b981" stroke-width="1"/>
      <text x="140" y="25" font-family="monospace" font-size="14" fill="#10b981" text-anchor="middle">entity_context{}</text>
      <text x="140" y="45" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">Known entities</text>
    </g>
    <g transform="translate(650, 70)">
      <rect width="280" height="60" rx="8" fill="rgba(16,185,129,0.2)" stroke="#10b981" stroke-width="1"/>
      <text x="140" y="25" font-family="monospace" font-size="14" fill="#10b981" text-anchor="middle">graph_nodes[]</text>
      <text x="140" y="45" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">Knowledge graph context</text>
    </g>
  </g>
  
  <!-- Layer 4: Operational -->
  <g transform="translate(100, 650)">
    <rect width="1000" height="150" rx="15" fill="rgba(59,130,246,0.15)" stroke="#3b82f6" stroke-width="3" filter="url(#glow)"/>
    <text x="50" y="45" font-family="Arial, sans-serif" font-size="28" fill="#3b82f6" font-weight="bold">4</text>
    <text x="90" y="45" font-family="Arial, sans-serif" font-size="24" fill="#3b82f6" font-weight="bold">OPERATIONAL STATE</text>
    <text x="950" y="45" font-family="Arial, sans-serif" font-size="16" fill="#3b82f6" text-anchor="end">WHAT we're doing</text>
    
    <g transform="translate(50, 70)">
      <rect width="170" height="60" rx="8" fill="rgba(59,130,246,0.2)" stroke="#3b82f6" stroke-width="1"/>
      <text x="85" y="25" font-family="monospace" font-size="14" fill="#3b82f6" text-anchor="middle">current_plan[]</text>
      <text x="85" y="45" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">Active steps</text>
    </g>
    <g transform="translate(240, 70)">
      <rect width="170" height="60" rx="8" fill="rgba(59,130,246,0.2)" stroke="#3b82f6" stroke-width="1"/>
      <text x="85" y="25" font-family="monospace" font-size="14" fill="#3b82f6" text-anchor="middle">active_tools[]</text>
      <text x="85" y="45" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">Available tools</text>
    </g>
    <g transform="translate(430, 70)">
      <rect width="170" height="60" rx="8" fill="rgba(59,130,246,0.2)" stroke="#3b82f6" stroke-width="1"/>
      <text x="85" y="25" font-family="monospace" font-size="14" fill="#3b82f6" text-anchor="middle">workflow_id</text>
      <text x="85" y="45" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">Temporal ID</text>
    </g>
    <g transform="translate(620, 70)">
      <rect width="170" height="60" rx="8" fill="rgba(59,130,246,0.2)" stroke="#3b82f6" stroke-width="1"/>
      <text x="85" y="25" font-family="monospace" font-size="14" fill="#3b82f6" text-anchor="middle">status</text>
      <text x="85" y="45" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">Execution state</text>
    </g>
    <g transform="translate(810, 70)">
      <rect width="170" height="60" rx="8" fill="rgba(59,130,246,0.2)" stroke="#3b82f6" stroke-width="1"/>
      <text x="85" y="25" font-family="monospace" font-size="14" fill="#3b82f6" text-anchor="middle">active_agent</text>
      <text x="85" y="45" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">Elena / Marcus</text>
    </g>
  </g>
  
  <!-- Flow arrow -->
  <text x="600" y="870" font-family="Arial, sans-serif" font-size="16" fill="#94a3b8" text-anchor="middle">Context flows through all layers on every request â€¢ Pydantic models ensure type safety</text>
</svg>

